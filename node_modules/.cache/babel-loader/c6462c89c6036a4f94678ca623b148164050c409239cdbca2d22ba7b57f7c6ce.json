{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = __importDefault(require(\"react\"));\nvar Prompts_1 = require(\"./Prompts\");\nvar PromptInput = /** @class */function (_super) {\n  __extends(PromptInput, _super);\n  function PromptInput(props) {\n    var _this = _super.call(this, props) || this;\n    _this.formElement = null;\n    _this.inputElement = null;\n    var _a = props.prompt,\n      initialValue = _a.initialValue,\n      placeholder = _a.placeholder;\n    _this.state = {\n      value: initialValue || '',\n      initialValue: initialValue,\n      placeholder: placeholder\n    };\n    _this.onSubmit = _this.onSubmit.bind(_this);\n    return _this;\n  }\n  PromptInput.prototype.componentDidMount = function () {\n    var _this = this;\n    this.setState({\n      value: this.state.initialValue || ''\n    }, function () {\n      _this.inputElement && _this.inputElement.select();\n    });\n  };\n  Object.defineProperty(PromptInput.prototype, \"value\", {\n    get: function () {\n      return this.state.value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  PromptInput.prototype.checkValidity = function () {\n    var formElement = this.formElement;\n    if (formElement) {\n      if (!formElement.checkValidity()) {\n        formElement.reportValidity();\n        return false;\n      }\n    }\n    return true;\n  };\n  PromptInput.prototype.onSubmit = function (e) {\n    e.preventDefault();\n    if (!this.checkValidity()) {\n      return false;\n    }\n    this.props.onSubmit && this.props.onSubmit();\n    return false;\n  };\n  PromptInput.prototype.render = function () {\n    var _this = this;\n    var prompt = this.props.prompt;\n    var _a = this.state,\n      value = _a.value,\n      placeholder = _a.placeholder;\n    var type = prompt instanceof Prompts_1.PasswordPrompt ? 'password' : 'text';\n    return react_1.default.createElement(\"form\", {\n      ref: function (el) {\n        _this.formElement = el;\n      },\n      onSubmit: this.onSubmit\n    }, react_1.default.createElement(\"input\", {\n      ref: function (el) {\n        _this.inputElement = el;\n      },\n      type: type,\n      className: 'form-control',\n      value: value,\n      placeholder: placeholder,\n      onChange: function (e) {\n        return _this.setState({\n          value: e.target.value\n        });\n      },\n      required: prompt.required,\n      autoFocus: true\n    }));\n  };\n  return PromptInput;\n}(react_1.default.Component);\nexports.default = PromptInput;","map":{"version":3,"names":["react_1","__importDefault","require","Prompts_1","PromptInput","_super","__extends","props","_this","call","formElement","inputElement","_a","prompt","initialValue","placeholder","state","value","onSubmit","bind","prototype","componentDidMount","setState","select","Object","defineProperty","get","checkValidity","reportValidity","e","preventDefault","render","type","PasswordPrompt","default","createElement","ref","el","className","onChange","target","required","autoFocus","Component"],"sources":["../src/PromptInput.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}